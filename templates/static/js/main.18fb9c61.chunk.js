(this.webpackJsonpgraph_algoviz=this.webpackJsonpgraph_algoviz||[]).push([[0],{18:function(t,e,n){},20:function(t,e,n){},21:function(t,e,n){},22:function(t,e,n){},25:function(t,e,n){},26:function(t,e,n){},27:function(t,e,n){},28:function(t,e,n){},29:function(t,e,n){"use strict";n.r(e);var i=n(0),r=n.n(i),a=n(12),o=n.n(a),s=(n(18),n(13)),c=n.n(s),u=n(3),l=n(4),d=n(7),h=n(6),p=n(2),v=n.n(p),f=n(9),g=n.n(f),m=(n(20),function(t){Object(d.a)(n,t);var e=Object(h.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var t=this.props,e=t.nodes,n=t.algorithms,i=t.selectedAlgorithm,a=t.exampleGraphs,o=t.selectedExampleGraph,s=t.running,c=t.startNodeId,u=t.setStartNodeId,l=t.onChangeGraph,d=t.onChangeAlgorithm,h=t.onClickRun,p=t.onClickClear;return r.a.createElement("div",{className:"PlotHeader"},r.a.createElement("h1",null,this.props.title||"Breadth and Depth First Search"),r.a.createElement("form",{className:"pure-form"},r.a.createElement("label",{className:"algorithm"},"Algorithm"),r.a.createElement("select",{className:"algorithm",value:i,onChange:d},n.map((function(t){return r.a.createElement("option",{value:t,key:t},t)}))),r.a.createElement("label",{className:"example-graph"},"Example Graph"),r.a.createElement("select",{className:"example-graph",value:o,onChange:l},Object.keys(a).map((function(t){return r.a.createElement("option",{value:t,key:t},t)}))),r.a.createElement("label",{className:"start-node"},"Start Node"),r.a.createElement("select",{className:"start-node",value:c,onChange:u},e.map((function(t){return r.a.createElement("option",{value:t.id,key:t.id},t.id)}))),r.a.createElement("button",{className:g()("pure-button",{disabled:s,"button-primary":!s}),onClick:h},s?"Running ".concat(i):"Run"),r.a.createElement("button",{className:g()("pure-button",{disabled:s,"button-secondary":!s}),onClick:p},"Clear")))}}]),n}(i.Component)),k=n(5),y=n.n(k),w=(n(21),function(t){Object(d.a)(n,t);var e=Object(h.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"PlotContainer",id:"plot".concat(this.props.id)})}},{key:"componentDidMount",value:function(){this.props.initialiseNodes(this.getDimensions())}},{key:"componentDidUpdate",value:function(){this.draw()}},{key:"getDimensions",value:function(){var t=y.a.select(".PlotContainer").node();return{x:t.clientWidth,y:t.clientHeight}}},{key:"draw",value:function(){var t=this;y.a.selectAll(".PlotContainer#plot".concat(t.props.id," svg")).remove();var e=y.a.select(".PlotContainer#plot".concat(t.props.id)).append("svg").classed("done",t.props.done).on("click",(function(){if(!y.a.event.defaultPrevented){var e=y.a.mouse(this);t.props.addNode(e[0],e[1])}})).append("defs");e.append("marker").attr("id","arrowhead").attr("class","ArrowHead").attr("refX",22).attr("refY",4).attr("markerWidth",12).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0,0 V 8 L12,4 Z"),e.append("marker").attr("id","arrowhead-dragging").attr("class","ArrowHead dragging").attr("refX",10).attr("refY",4).attr("markerWidth",12).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0,0 V 8 L12,4 Z"),e.append("marker").attr("id","arrowhead-traversed").attr("class","ArrowHead traversed").attr("refX",22).attr("refY",4).attr("markerWidth",12).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0,0 V 8 L12,4 Z"),this.props.components&&this.props.components.forEach(this.drawComponent.bind(this)),this.props.nodes.forEach(this.drawEdges.bind(this)),this.props.nodes.forEach(this.drawNode.bind(this)),this.props.nodes.forEach((function(t){}))}},{key:"drawComponent",value:function(t){var e=this,n=y.a.select(".PlotContainer#plot".concat(this.props.id," svg"));if(1===t.length){var i=this.props.nodes.find((function(e){return e.id===t[0]}));n.append("circle").attr("class","GraphComponent-circle").attr("cx",i.x).attr("cy",i.y).attr("r",20)}else{var r=t.map((function(t){var n=e.props.nodes.find((function(e){return e.id===t}));return[n.x,n.y].join(",")})).join(" ");n.append("polygon").attr("class","GraphComponent-poly").attr("points",r)}}},{key:"drawEdges",value:function(t){var e=this,n=y.a.select(".PlotContainer#plot".concat(this.props.id," svg"));t.children.forEach((function(i){var r=e.props.nodes.find((function(t){return t.id===i})),a=r.visitedFrom===t.id?"#arrowhead-traversed":"#arrowhead";n.append("line").attr("class","Edge").attr("marker-end","url(".concat(a,")")).attr("x1",t.x).attr("y1",t.y).attr("x2",r.x).attr("y2",r.y).classed("traversed",r.visitedFrom===t.id).classed("not-traversed",r.visited&&r.visitedFrom!==t.id)}))}},{key:"drawNode",value:function(t){var e=this,n=y.a.select(".PlotContainer#plot".concat(e.props.id," svg")),i=y.a.behavior.drag().on("dragstart",(function(n){e.props.updateNodes(e.props.nodes.map((function(e){return e.id===t.id&&(e.selected=!0),e}))),y.a.select(".PlotContainer#plot".concat(e.props.id," svg")).append("line").attr("class","Edge dragging").attr("x1",t.x).attr("y1",t.y).attr("x2",t.x).attr("y2",t.y)})).on("drag",(function(n){var i=y.a.select(".PlotContainer#plot".concat(e.props.id," svg .Edge.dragging")),r=y.a.event.sourceEvent.offsetX-t.size,a=y.a.event.sourceEvent.offsetY-t.size,o=y.a.event.sourceEvent.target;"circle"===o.tagName&&(r=y.a.select("#".concat(o.id)).attr("cx"),a=y.a.select("#".concat(o.id)).attr("cy")),i.attr("marker-end","url(#arrowhead-dragging)").attr("x1",t.x).attr("y1",t.y).attr("x2",r).attr("y2",a)})).on("dragend",(function(n){var i,r=y.a.event.sourceEvent.target;y.a.event.sourceEvent.stopPropagation(),y.a.selectAll(".PlotContainer#plot".concat(e.props.id," svg .Edge.dragging")).remove(),"circle"===r.tagName&&(i=parseInt(r.id.substring(5))),i&&i!==t.id&&0===t.children.filter((function(t){return t===i})).length&&e.props.updateNodes(e.props.nodes.map((function(n){return n.id===t.id&&(n.selected=!1,n.children.push(i),"undirected"===e.props.graphType&&n.parents.push(i)),n.id===i&&(n.parents.push(t.id),"undirected"===e.props.graphType&&n.children.push(t.id)),n})))}));n.append("circle").attr("class","Node").attr("id","node-"+t.id).attr("cx",t.x).attr("cy",t.y).attr("r",t.size).classed("selected",t.selected).classed("visited",t.visited).classed("articulationPoint",t.articulationPoint).classed("current",t.current).classed("group-1",1===t.group).classed("group-2",2===t.group).classed("group-3",3===t.group).classed("group-4",4===t.group).classed("group-5",5===t.group).on("mouseover",(function(){y.a.select(this).classed("hover",!0)})).on("mouseout",(function(){y.a.select(this).classed("hover",!1)})).call(i);n.append("text").attr("class","Node-label").attr("id","label-"+t.id).attr("x",t.x+1.2*t.size).attr("y",t.y+1.5*t.size).text(t.id);var r=this.props.visitOrder.findIndex((function(e){return e.id===t.id}));r>-1&&n.append("text").attr("class","Node-visitLabel").attr("id","visitlabel-"+t.id).attr("x",t.x-1.5*t.size).attr("y",t.y+1.5*t.size).text(r+1)}}]),n}(i.Component)),b=(n(22),function(t){Object(d.a)(n,t);var e=Object(h.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var t=this.props.explanation;return r.a.createElement("div",{className:"PlotExplained"},r.a.createElement("h2",null,"Algorithm Output"),r.a.createElement("ul",null,t.map((function(t,e){return r.a.createElement("li",{key:"line-".concat(e)},t)}))))}}]),n}(i.Component)),x=n(1),C=n.n(x),E=function(){function t(e,n,i,r,a){Object(u.a)(this,t),this.id=e,this.x=n,this.y=i,this.children=r||[],this.parents=a||[],this.size=10,this.selected=!1,this.current=!1,this.visited=!1,this.visitIndex=null,this.visitedFrom=null,this.articulationPoint=!1,this.lowLink=null,this.group=null,this.childVisitCount=0}return Object(l.a)(t,[{key:"hasChildren",value:function(){return this.children&&this.children.length>0}},{key:"reset",value:function(){this.visited=!1,this.lowLink=null,this.current=!1,this.visitedFrom=null,this.visitIndex=null,this.articulationPoint=!1,this.childVisitCount=0,this.group=null}}]),t}(),N=function(t){var e=C.a.resolve(!0);t.map((function(t){return e=e.then(t)}))},S=function(t,e){return C.a.resolve(!0).then((function n(){if(t())return C.a.resolve(e()).then(n)}))},O={directedTree:function(){return[new E(1,41,50,[2,3,5]),new E(2,41,120,[4,5],[1]),new E(3,97,90,[5,6,7],[1]),new E(4,42,190,[8,9],[2]),new E(5,100,190,[9],[1,2,3]),new E(6,160,160,null,[3]),new E(7,190,135,null,[3]),new E(8,42,276,null,[4]),new E(9,101,278,null,[4,5])]},directedGraph:function(){return[new E(1,81,138.3125,[2,3,7],[]),new E(2,178,80.3125,[4,7],[1]),new E(3,173,198.3125,[5,7],[1]),new E(4,321,72.3125,[6],[2]),new E(5,318,209.3125,[6],[3]),new E(6,432,138.3125,[],[4,5,7]),new E(7,319,136.3125,[6],[1,2,3])]},directedCycle:function(){return[new E(1,86,76.3125,[2],[7]),new E(2,86,217.3125,[3],[1]),new E(3,179,222.3125,[4],[2]),new E(4,287,222.3125,[5],[3]),new E(5,290,144.3125,[6],[4]),new E(6,284,68.3125,[7],[5]),new E(7,176,68.3125,[1],[6])]},disconnectedComponents:function(){return[new E(1,62,68.3125,[2],[3]),new E(2,59,231.3125,[3],[1]),new E(3,211,230.3125,[1],[2]),new E(4,349,60.3125,[5],[5]),new E(5,344,233.3125,[4],[4]),new E(6,211,65.3125,[7],[7]),new E(7,207,159.3125,[6],[6])]},notBiconnected:function(){return[new E(1,55,32.3125,[2],[2]),new E(2,179,70.3125,[1,3],[1,3]),new E(3,89,175.3125,[2,4],[2,4]),new E(4,218,200.3125,[3],[3])]},biconnected:function(){return[new E(1,163,54.265625,[3,2,5],[3,2,5]),new E(2,301,94.265625,[4,1,5],[4,1,5]),new E(3,152,213.265625,[1,4],[1,4]),new E(4,317,220.265625,[3,2],[3,2]),new E(5,224,143.265625,[1,2],[1,2])]},biconnectedBipartite:function(){return[new E(1,40,37.3125,[7,2,3],[7,2,3]),new E(2,39,286.3125,[8,1,4],[8,1,4]),new E(3,122,114.3125,[1,6,4],[1,6,4]),new E(4,122,212.3125,[5,3,2],[5,3,2]),new E(5,258,209.3125,[6,4,8],[6,4,8]),new E(6,251,106.3125,[3,5,7],[3,5,7]),new E(7,328,27.3125,[1,8,6],[1,8,6]),new E(8,330,288.3125,[7,2,5],[7,2,5])]},notBipartite:function(){return[new E(1,234,30.265625,[2,3,5,6],[2,3,5,6]),new E(2,168,120.265625,[1,4,5],[1,4,5]),new E(3,323,109.265625,[1,6,7],[1,6,7]),new E(4,119,219.265625,[2],[2]),new E(5,202,216.265625,[1,2],[2,1]),new E(6,281,216.265625,[1,3],[1,3]),new E(7,365,213.265625,[3],[3])]},bipartite:function(){return[new E(1,221,27.3125,[2,3],[2,3]),new E(2,169,108.3125,[1,4,5,6],[1,4,5,6]),new E(3,260,109.3125,[1,6,7],[1,6,7]),new E(4,114,206.3125,[2,8,9],[2,8,9]),new E(5,184,206.3125,[2,10,11],[10,11,2]),new E(6,237,203.3125,[2,3,12,13],[3,12,2,13]),new E(7,322,203.3125,[3,13,14,15],[3,14,13,15]),new E(8,77,304.3125,[4],[4]),new E(9,131,300.3125,[4],[4]),new E(10,163,302.3125,[5],[5]),new E(11,204,302.3125,[5],[5]),new E(12,238,300.3125,[6],[6]),new E(13,279,301.3125,[6,7],[6,7]),new E(14,326,302.3125,[7],[7]),new E(15,372,301.3125,[7],[7])]}},j=function(t){return O[t]?O[t]():[]},A=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500;Object(u.a)(this,t),this.nodes=e,this.component=n,this.stack=[],this.visitOrder=[],this.explanation=[],this.pause=i}return Object(l.a)(t,[{key:"log",value:function(t){console.log(t),this.explanation.push(t),this.component.setState({explanation:v.a.assign([],this.explanation)})}},{key:"start",value:function(t){var e=this;return this.nodes&&0!==this.nodes.length?(t=t||this.nodes[0],this.log(" | Start at ".concat(t.id)),this.search(t).catch((function(t){e.log(t.message),e.log(" | Search Steps"),e.log(" | ------------"),e.visitOrder.forEach((function(t,n){return e.log(" | Step ".concat(n+1," -> Node ").concat(t.id))}))}))):(this.log(" | No nodes to search!"),C.a.reject(new Error("No Nodes to search!")))}},{key:"updateComponent",value:function(t,e){var n=this;return C.a.resolve().then((function(){var i=n.nodes.map((function(n){return n.id===t.id?(n.current=!0,e&&(n.visitedFrom=e.id)):n.current=!1,n}));return n.component.setState({nodes:i,visitOrder:v.a.assign([],n.visitOrder)}),C.a.delay(n.pause)}))}},{key:"search",value:function(t,e){var n=this;if(e&&console.log("Parent set","parent is",e.id,"child is",t.id),t)return this.updateComponent(t,e).then((function(){return t.visited||n.markAsVisited(t),!t.hasChildren()||n.allChildrenVisited(t)?n.moveToParent():n.moveToNextChild()}))}},{key:"peek",value:function(){if(0===this.stack.length)throw new Error(" | Stack empty, DFS complete!");return this.stack[this.stack.length-1]}},{key:"moveToParent",value:function(){this.log(" | Move Up!"),this.stack.pop();var t=this.peek();return this.updateComponent(t),this.search(t)}},{key:"moveToNextChild",value:function(){var t=this;this.log(" | Move Down!");var e=this.peek(),n=this.sortChildren(e).filter((function(e){return!t.nodes.find((function(t){return t.id===e})).visited}));if(0===n.length)return C.a.resolve();var i=n.pop(),r=this.nodes.find((function(t){return t.id===i}));return this.search(r,e)}},{key:"markAsVisited",value:function(t){this.log(" | Visit ".concat(t.id)),t.visited=!0,this.stack.push(t),this.visitOrder.push(t)}},{key:"sortChildren",value:function(t){return t.children.sort((function(t,e){return t>e?-1:t<e?1:0}))}},{key:"allChildrenVisited",value:function(t){var e=this;return t.children.reduce((function(t,n){var i=e.nodes.find((function(t){return t.id===n}));return t&&i.visited}),!0)}}]),t}(),I=function(){function t(){Object(u.a)(this,t),this.internal=[]}return Object(l.a)(t,[{key:"isNotEmpty",value:function(){return this.internal&&this.internal.length>0}},{key:"enqueue",value:function(t){this.internal.push(t)}},{key:"dequeue",value:function(){if(!this.isNotEmpty())throw new Error("Queue is empty!");return this.internal.shift()}}]),t}(),P=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500;Object(u.a)(this,t),this.nodes=e,this.component=n,this.queue=new I,this.visitOrder=[],this.explanation=[],this.pause=i}return Object(l.a)(t,[{key:"log",value:function(t){console.log(t),this.explanation.push(t),this.component.setState({explanation:v.a.assign([],this.explanation)})}},{key:"start",value:function(t){var e=this;return this.nodes&&0!==this.nodes.length?(t=t||this.nodes[0],this.log(" | Start at ".concat(t.id)),this.search(t).then((function(){e.log(" | Queue empty, BFS complete!"),e.log(" | Search Steps"),e.log(" | ------------"),e.visitOrder.forEach((function(t,n){return e.log(" | Step ".concat(n+1," -> Node ").concat(t.id))}))})).catch((function(t){e.log(t)}))):(this.log(" | No nodes to search!"),C.a.reject(new Error("No Nodes to search!")))}},{key:"updateComponent",value:function(t,e){var n=this;return C.a.resolve().then((function(){var i=n.nodes.map((function(n){return n.current=n.id===t.id,e&&n.id===t.id&&(n.visitedFrom=e),n}));return n.component.setState({nodes:i,visitOrder:v.a.assign([],n.visitOrder)}),C.a.delay(n.pause)}))}},{key:"search",value:function(t){var e=this;if(t)return this.updateComponent(t).then((function(){return t.visited||(e.log(" | Enqueued ".concat(t.id)),e.queue.enqueue([t.id,null])),S(e.queue.isNotEmpty.bind(e.queue),(function(){var t=e.queue.dequeue(),n=e.nodes.find((function(e){return e.id===t[0]})),i=null;return n.visited||(i=t[1],e.markAsVisited(n),e.enqueueUnvisitedChildren(n)),e.updateComponent(n,i)}))}))}},{key:"enqueueUnvisitedChildren",value:function(t){var e=this;this.sortChildren(t).forEach((function(n){var i=e.nodes.find((function(t){return t.id===n}));i.visited||(e.log(" | Enqueued ".concat(i.id)),e.queue.enqueue([i.id,t.id]))}))}},{key:"markAsVisited",value:function(t){this.log(" | Visit ".concat(t.id)),t.visited=!0,this.visitOrder.push(t)}},{key:"sortChildren",value:function(t){return t.children.sort((function(t,e){return t<e?-1:t>e?1:0}))}}]),t}(),q=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500;Object(u.a)(this,t),this.nodes=e,this.component=n,this.queue=new I,this.visitOrder=[],this.explanation=[],this.pause=i}return Object(l.a)(t,[{key:"log",value:function(t){console.log(t),this.explanation.push(t),this.component.setState({explanation:v.a.assign([],this.explanation)})}},{key:"start",value:function(t){var e=this;if(!this.nodes||0===this.nodes.length)return this.log(" | No nodes to search!"),C.a.reject(new Error("No Nodes to search!"));var n=[t=t||this.nodes[0]].concat(this.nodes.filter((function(e){return 0===e.parents.length&&e.id!==t.id}))).map((function(t){return function(){return e.log(" | Start at ".concat(t.id)),e.search(t)}}));return N(n).then((function(){e.log(" | Queue empty, BFS complete!");var t=v.a.uniq(e.nodes.map((function(t){return t.group})));2===t.length?(e.log(" | This graph is a bipartite graph!"),e.log(" | Disjoint Sets"),e.log(" | Set 1: ".concat(e.nodes.filter((function(t){return 1===t.group})).map((function(t){return t.id})).join(", "))),e.log(" | Set 2: ".concat(e.nodes.filter((function(t){return 2===t.group})).map((function(t){return t.id})).join(", ")))):(e.log(" | This graph is not a bipartite graph!"),e.log(" | ".concat(t.length," groups had to be used")))})).catch((function(t){e.log(t)}))}},{key:"updateComponent",value:function(t,e){var n=this;return C.a.resolve().then((function(){var i=n.nodes.map((function(n){return n.current=n.id===t.id,e&&n.id===t.id&&(n.visitedFrom=e),n}));return n.component.setState({nodes:i,visitOrder:v.a.assign([],n.visitOrder)}),C.a.delay(n.pause)}))}},{key:"search",value:function(t){var e=this;if(t)return this.updateComponent(t).then((function(){return t.visited||(e.log(" | Enqueued ".concat(t.id)),e.queue.enqueue([t.id,null])),S(e.queue.isNotEmpty.bind(e.queue),(function(){var t=e.queue.dequeue(),n=e.nodes.find((function(e){return e.id===t[0]})),i=null;return n.visited||(i=t[1],e.markAsVisited(n),e.enqueueUnvisitedChildren(n)),e.groupNode(n),e.updateComponent(n,i)}))}))}},{key:"enqueueUnvisitedChildren",value:function(t){var e=this;this.sortChildren(t).forEach((function(n){var i=e.nodes.find((function(t){return t.id===n}));i.visited||(e.log(" | Enqueued ".concat(i.id)),e.queue.enqueue([i.id,t.id]))}))}},{key:"groupNode",value:function(t){var e=this;if(0===t.parents.length)this.log(" |  - set node ".concat(t.id," to group 1")),t.group=1;else{var n=v.a.sortedUniq(t.parents.map((function(t){return e.nodes.find((function(e){return e.id===t})).group})).filter((function(t){return null!==t})).sort());if(0===n.length)this.log(" |  - set node ".concat(t.id," to group 1")),t.group=1;else if(1===n.length){var i=1===n[0]?2:1;this.log(" | - set node ".concat(t.id," to group ").concat(i)),t.group=i}else{console.log("parentGroups not 1 or 0",n);var r=n[n.length-1]+1;this.log(" | - set node ".concat(t.id," to group ").concat(r)),t.group=r}}}},{key:"markAsVisited",value:function(t,e){this.log(" | Visit ".concat(t.id)),t.visited=!0,this.visitOrder.push(t)}},{key:"sortChildren",value:function(t){return t.children.sort((function(t,e){return t<e?-1:t>e?1:0}))}}]),t}(),V=function(){function t(){Object(u.a)(this,t),this.internal=[]}return Object(l.a)(t,[{key:"peek",value:function(){if(!this.internal||0===this.internal.length)throw new Error("Empty Stack");return this.internal[this.internal.length-1]}},{key:"pop",value:function(){if(!this.internal||0===this.internal.length)throw new Error("Empty Stack");var t=this.internal.pop();return console.log("Stack popped",this.internal,t),t}},{key:"push",value:function(t){this.internal.push(t),console.log("Stack pushed",this.internal,t)}}]),t}(),F=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500;Object(u.a)(this,t),this.nodes=e,this.component=n,this.visitIndex=0,this.stack=new V,this.visitOrder=[],this.explanation=[],this.components=[],this.pause=i}return Object(l.a)(t,[{key:"log",value:function(t){console.log(t),this.explanation.push(t),this.component.setState({explanation:v.a.assign([],this.explanation)})}},{key:"start",value:function(t){var e=this;if(!this.nodes||0===this.nodes.length)return this.log(" | No nodes to search!"),C.a.reject(new Error("No Nodes to search!"));var n=this.nodes.map((function(t){return function(){return e.search(t)}}));return N(n).then((function(){e.log(" | Strongly Connected Components"),e.log(" | ------------"),e.components.forEach((function(t,n){return e.log(" | Component ".concat(n," -> ").concat(t.join(", ")))})),e.component.setState({components:v.a.assign([],e.components)})}))}},{key:"updateComponent",value:function(t,e){var n=this;return C.a.resolve().then((function(){var i=n.nodes.map((function(n){return n.id===t.id?(n.current=!0,e&&(n.visitedFrom=e.id)):n.current=!1,n}));return n.component.setState({nodes:i,components:v.a.assign([],n.components),visitOrder:v.a.assign([],n.visitOrder)}),C.a.delay(n.pause)}))}},{key:"search",value:function(t,e){var n=this;return t?null!==t.visitIndex?C.a.resolve():this.updateComponent(t,e).then((function(){n.markAsVisited(t);var e=t.children.map((function(e){var i=n.nodes.find((function(t){return t.id===e}));return null===i.visitIndex?function(){return n.search(i,t).then((function(){var i=n.nodes.find((function(t){return t.id===e}));return t.lowLink=Math.min(t.lowLink,i.lowLink),C.a.resolve()}))}:i.onStack?function(){return t.lowLink=Math.min(t.lowLink,i.visitIndex),C.a.resolve()}:function(){return C.a.resolve()}}));return N(e).then((function(){if(t.lowLink===t.visitIndex){var e=function(){var e=[t.id],i=n.stack.pop(),r=n.nodes.find((function(t){return t.id===i}));for(r.onStack=!1;i!==t.id;)e.push(r.id),i=n.stack.pop(),(r=n.nodes.find((function(t){return t.id===i}))).onStack=!1;return n.components.push(e),{v:C.a.resolve()}}();if("object"===typeof e)return e.v}}))})):C.a.resolve()}},{key:"markAsVisited",value:function(t){this.log(" | Visit ".concat(t.id)),t.visited=!0,t.visitIndex=this.visitIndex,t.lowLink=this.visitIndex,t.onStack=!0,this.visitIndex++,this.stack.push(t.id),this.visitOrder.push(t)}}]),t}(),G=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500;Object(u.a)(this,t),this.nodes=e,this.component=n,this.stack=[],this.visitOrder=[],this.explanation=[],this.currentVisitIndex=0,this.pause=i}return Object(l.a)(t,[{key:"log",value:function(t){console.log(t),this.explanation.push(t),this.component.setState({explanation:v.a.assign([],this.explanation)})}},{key:"start",value:function(t){var e=this;return this.nodes&&0!==this.nodes.length?(t=t||this.nodes[0],this.log(" | Start at ".concat(t.id)),this.search(t).then((function(){e.log(" | Search Complete!");var t=e.nodes.filter((function(t){return!t.visited})),n=e.nodes.filter((function(t){return t.articulationPoint}));0===t.length&&0===n.length?e.log(" | This graph is Biconnected!"):(e.log(" | This graph is not Biconnected"),n.length>0&&e.log(" | Articulation Points: ".concat(n.map((function(t){return t.id})).join(", "))),t.length>0&&e.log(" | Unvisited Points: ".concat(t.map((function(t){return t.id})).join(", "))))}))):(this.log(" | No nodes to search!"),C.a.reject(new Error("No Nodes to search!")))}},{key:"updateComponent",value:function(t,e){var n=this;return C.a.resolve().then((function(){var e=n.nodes.map((function(e){return e.id===t.id?(e=t).current=!0:e.current=!1,e}));return n.component.setState({nodes:e,visitOrder:v.a.assign([],n.visitOrder)}),C.a.delay(n.pause)}))}},{key:"search",value:function(t,e){var n=this;return this.log(" | Visit ".concat(t.id)),t.childVisitCount=0,t.visited=!0,t.visitIndex=this.currentVisitIndex++,t.lowLink=t.visitIndex,this.updateComponent(t,e).then((function(){return N(t.children.map((function(e){return function(){var i=n.nodes.find((function(t){return t.id===e}));return i.visited?C.a.resolve().then((function(){i.id!==t.visitedFrom&&(t.lowLink=Math.min(t.lowLink,i.visitIndex))})):(t.childVisitCount++,i.visitedFrom=t.id,n.search(i,t).then((function(){t.lowLink=Math.min(t.lowLink,i.lowLink),null===t.visitedFrom&&t.childVisitCount>1?(n.log(" | Node is root and has more than one child - it's an articulation point!"),t.articulationPoint=!0):null!==t.visitedFrom&&i.lowLink>=t.visitIndex&&(n.log(" | Node ".concat(t.id," - parent ").concat(t.visitedFrom)),n.log(" | Node is not root but one of it's children has a back link to an ancestor - it's an articulation point!"),t.articulationPoint=!0)})))}})))}))}}]),t}(),T=(n(25),{BFS:P,DFS:A,TSC:F,APS:G,BA:q}),B=function(t){Object(d.a)(n,t);var e=Object(h.a)(n);function n(t,i){var r;return Object(u.a)(this,n),(r=e.call(this,t,i)).state={running:!1,done:!1,algorithm:r.props.selectableAlgorithms[0],exampleGraph:r.props.exampleGraph,startNodeId:1,nodes:[],components:[],visitOrder:[],explanation:[],currentId:1},r}return Object(l.a)(n,[{key:"initialiseNodes",value:function(t){var e=v.a.assign([],j(this.state.exampleGraph));this.setState({nodes:e,currentId:0===e.length?1:e[e.length-1].id+1})}},{key:"runAlgorithm",value:function(){var t=this,e=this.state.algorithm,n=new T[e](this.state.nodes,this);this.setState({running:!0,done:!1});var i=this.state.nodes.find((function(e){return e.id===t.state.startNodeId}));n.start(i).then((function(){return t.setState({running:!1,done:!0})})).catch((function(e){t.setState({running:!1}),console.error(e)}))}},{key:"setStartNodeId",value:function(t){this.setState({startNodeId:parseInt(t.target.value,10)})}},{key:"addNode",value:function(t,e){var n=new E(this.state.currentId,t,e);this.setState({done:!1,nodes:v.a.concat(this.state.nodes,n),currentId:this.state.currentId+1})}},{key:"updateNodes",value:function(t){this.setState({done:!1,nodes:t})}},{key:"clearNodes",value:function(){this.setState({nodes:[],visitOrder:[],explanation:[],components:[],currentId:1})}},{key:"resetNodes",value:function(){var t=v.a.assign([],this.state.nodes);t.forEach((function(t){return t.reset()})),this.setState({nodes:t,visitOrder:[],explanation:[],components:[]})}},{key:"onChangeAlgorithm",value:function(t){this.setState({algorithm:t.target.value})}},{key:"onChangeGraph",value:function(t){var e=v.a.assign([],j(t.target.value));this.setState({done:!1,visitOrder:[],explanation:[],components:[],nodes:e,exampleGraph:t.target.value,currentId:0===e.length?1:e[e.length-1].id+1})}},{key:"onClickRun",value:function(t){t.preventDefault(),this.state.running||(this.resetNodes(),this.runAlgorithm())}},{key:"onClickClear",value:function(t){t.preventDefault(),this.state.running||this.clearNodes()}},{key:"render",value:function(){var t=this.props.selectableAlgorithms,e={title:this.props.title,algorithms:Object.keys(T).filter((function(e){return!t||t.includes(e)})),exampleGraphs:O,selectedExampleGraph:this.state.exampleGraph,nodes:this.state.nodes,selectedAlgorithm:this.state.algorithm,running:this.state.running,startNodeId:this.state.startNodeId,setStartNodeId:this.setStartNodeId.bind(this),onChangeGraph:this.onChangeGraph.bind(this),onChangeAlgorithm:this.onChangeAlgorithm.bind(this),onClickRun:this.onClickRun.bind(this),onClickClear:this.onClickClear.bind(this)},n={id:this.props.id,graphType:this.props.graphType||"directed",done:this.state.done,currentId:this.state.currentId,nodes:this.state.nodes,components:this.state.components,visitOrder:this.state.visitOrder,addNode:this.addNode.bind(this),updateNodes:this.updateNodes.bind(this),initialiseNodes:this.initialiseNodes.bind(this)};return r.a.createElement("a",{name:this.props.name,href:"#!"},r.a.createElement("div",{className:"AlgoVizContainer","data-bottom-top":"opacity:0;","data-top":"opacity:1;"},r.a.createElement(m,e),r.a.createElement(w,n),r.a.createElement(b,{explanation:this.state.explanation})))}}]),n}(i.Component),L=(n(26),function(t){Object(d.a)(n,t);var e=Object(h.a)(n);function n(t,i){var r;return Object(u.a)(this,n),(r=e.call(this,t,i)).state={menuVisible:!1},r}return Object(l.a)(n,[{key:"toggleMenu",value:function(){this.setState({menuVisible:!this.state.menuVisible})}},{key:"render",value:function(){var t=this.state.menuVisible?"AppContainer pad-left":"AppContainer";return r.a.createElement("div",{className:t},r.a.createElement(B,{id:1,name:"main-visualisation",title:"Graph Traversal Algorithms",selectableAlgorithms:["DFS","BFS","TSC","APS","BA"],exampleGraph:"directedGraph"}),r.a.createElement(B,{id:2,name:"dfs-visualisation",title:"Depth First Search",selectableAlgorithms:["DFS","BFS"],exampleGraph:"directedTree"}),r.a.createElement(B,{id:3,name:"bfs-visualisation",title:"Breadth First Search",selectableAlgorithms:["BFS","DFS"],exampleGraph:"directedTree"}),r.a.createElement(B,{id:4,name:"tscc-visualisation",title:"Tarjan's Algorithm",selectableAlgorithms:["TSC"],exampleGraph:"disconnectedComponents"}),r.a.createElement(B,{id:5,name:"bc-visualisation",title:"Articulation Point Search",selectableAlgorithms:["APS"],graphType:"undirected",exampleGraph:"biconnected"}),r.a.createElement(B,{id:6,name:"bp-visualisation",title:"Bipartiteness Algorithm",selectableAlgorithms:["BA"],graphType:"undirected",exampleGraph:"biconnectedBipartite"}))}}]),n}(i.Component));n(27),n(28);/Android|iPhone|iPad|iPod|BlackBerry|Windows Phone/i.test(navigator.userAgent||navigator.vendor||window.opera)||c.a.init({forceHeight:!1});var D=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(L,null))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(D,null)),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.18fb9c61.chunk.js.map